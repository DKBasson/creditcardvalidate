{"ast":null,"code":"'use strict';\n\nvar defined = require('defined');\n\nvar fetch = require('pull-fetch-iso');\n\nvar collect = require('pull-stream/sinks/collect');\n\nmodule.exports = binlookup;\n\nfunction binlookup(opts) {\n  if (typeof opts === 'string') opts = {\n    key: opts\n  };\n  if (typeof opts === 'undefined') opts = {};\n  var url = defined(opts.url, 'https://lookup.binlist.net/');\n  var Promise = defined(opts.Promise, global.Promise);\n  return function (bin, cb) {\n    var source = fetch({\n      host: url,\n      path: bin,\n      headers: Object.assign({\n        'Accept-Version': '3',\n        'X-Client': 'Node.js 2.0.1'\n      }, opts.key && {\n        'Authorization': 'Basic ' + fetch.btoa(opts.key + ':')\n      })\n    });\n    if (cb === undefined) return new Promise(function (rs, rj) {\n      collect(function (err, ranges) {\n        if (err) return rj(err);\n        rs(ranges[0]);\n      })(source);\n    });\n    collect(function (err, ranges) {\n      if (err) return cb(err);\n      cb(null, ranges[0]);\n    })(source);\n  };\n}","map":{"version":3,"sources":["C:/Users/dekle/Documents/TechAssignments/CreditCardValidate/creditcardvalidate/node_modules/binlookup/index.js"],"names":["defined","require","fetch","collect","module","exports","binlookup","opts","key","url","Promise","global","bin","cb","source","host","path","headers","Object","assign","btoa","undefined","rs","rj","err","ranges"],"mappings":"AAAA;;AAEA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AACA,IAAIC,KAAK,GAAGD,OAAO,CAAC,gBAAD,CAAnB;;AACA,IAAIE,OAAO,GAAGF,OAAO,CAAC,2BAAD,CAArB;;AAEAG,MAAM,CAACC,OAAP,GAAiBC,SAAjB;;AAEA,SAASA,SAAT,CAAoBC,IAApB,EAA0B;AACzB,MAAI,OAAOA,IAAP,KAAgB,QAApB,EACCA,IAAI,GAAG;AACNC,IAAAA,GAAG,EAAED;AADC,GAAP;AAID,MAAI,OAAOA,IAAP,KAAgB,WAApB,EACCA,IAAI,GAAG,EAAP;AAED,MAAIE,GAAG,GAAGT,OAAO,CAACO,IAAI,CAACE,GAAN,EAAW,6BAAX,CAAjB;AAEA,MAAIC,OAAO,GAAGV,OAAO,CAACO,IAAI,CAACG,OAAN,EAAeC,MAAM,CAACD,OAAtB,CAArB;AAEA,SAAO,UAAUE,GAAV,EAAeC,EAAf,EAAmB;AACzB,QAAIC,MAAM,GAAGZ,KAAK,CAAC;AAClBa,MAAAA,IAAI,EAAEN,GADY;AAElBO,MAAAA,IAAI,EAAEJ,GAFY;AAGlBK,MAAAA,OAAO,EAAEC,MAAM,CAACC,MAAP,CAAc;AACtB,0BAAkB,GADI;AAEtB,oBAAY;AAFU,OAAd,EAGNZ,IAAI,CAACC,GAAL,IAAY;AACd,yBAAiB,WAASN,KAAK,CAACkB,IAAN,CAAWb,IAAI,CAACC,GAAL,GAAS,GAApB;AADZ,OAHN;AAHS,KAAD,CAAlB;AAWA,QAAIK,EAAE,KAAKQ,SAAX,EACC,OAAO,IAAIX,OAAJ,CAAY,UAAUY,EAAV,EAAcC,EAAd,EAAkB;AACpCpB,MAAAA,OAAO,CAAC,UAAUqB,GAAV,EAAeC,MAAf,EAAsB;AAC7B,YAAID,GAAJ,EACC,OAAOD,EAAE,CAACC,GAAD,CAAT;AAEDF,QAAAA,EAAE,CAACG,MAAM,CAAC,CAAD,CAAP,CAAF;AACA,OALM,CAAP,CAKGX,MALH;AAMA,KAPM,CAAP;AASDX,IAAAA,OAAO,CAAC,UAAUqB,GAAV,EAAeC,MAAf,EAAuB;AAC9B,UAAID,GAAJ,EACC,OAAOX,EAAE,CAACW,GAAD,CAAT;AAEDX,MAAAA,EAAE,CAAC,IAAD,EAAOY,MAAM,CAAC,CAAD,CAAb,CAAF;AACA,KALM,CAAP,CAKGX,MALH;AAMA,GA5BD;AA6BA","sourcesContent":["'use strict';\n\nvar defined = require('defined');\nvar fetch = require('pull-fetch-iso');\nvar collect = require('pull-stream/sinks/collect');\n\nmodule.exports = binlookup;\n\nfunction binlookup( opts ){\n\tif (typeof opts === 'string')\n\t\topts = {\n\t\t\tkey: opts,\n\t\t};\n\n\tif (typeof opts === 'undefined')\n\t\topts = {};\n\n\tvar url = defined(opts.url, 'https://lookup.binlist.net/');\n\n\tvar Promise = defined(opts.Promise, global.Promise);\n\n\treturn function( bin, cb ){\n\t\tvar source = fetch({\n\t\t\thost: url,\n\t\t\tpath: bin,\n\t\t\theaders: Object.assign({\n\t\t\t\t'Accept-Version': '3',\n\t\t\t\t'X-Client': 'Node.js 2.0.1',\n\t\t\t}, opts.key && {\n\t\t\t\t'Authorization': 'Basic '+fetch.btoa(opts.key+':'),\n\t\t\t}),\n\t\t});\n\n\t\tif (cb === undefined)\n\t\t\treturn new Promise(function( rs, rj ){\n\t\t\t\tcollect(function( err, ranges){\n\t\t\t\t\tif (err)\n\t\t\t\t\t\treturn rj(err);\n\n\t\t\t\t\trs(ranges[0]);\n\t\t\t\t})(source);\n\t\t\t});\n\n\t\tcollect(function( err, ranges ){\n\t\t\tif (err)\n\t\t\t\treturn cb(err);\n\n\t\t\tcb(null, ranges[0]);\n\t\t})(source);\n\t}\n}\n"]},"metadata":{},"sourceType":"script"}